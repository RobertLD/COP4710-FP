<!-- 
    Will contain:
    - Credentials form for a new professor account
    - password, confirm password verification
    - Submit form performs POST request for a new professor
    - Confirmation message with a link to reroute to login upon POST
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCF Book Request - Register</title>
    <!-- JS imports-->
</head>

<body onload="errorParse()">

    <script type="text/javascript">
        function errorParse(){
            var url = window.location.href;

            var errorVar = url.split("?");
            console.log(errorVar);

            if (errorVar.length == 1){
                return;
            }

            var error = errorVar[1].split("=");
            console.log(error);

            
            var value = error[1];

            var fields = document.getElementById("registerError");
            var str = "";

            // error=empty
            if (value == "empty"){
                str = "Please fill all fields.";
            }
            // error=email
            if (value == "email"){
                str = "Please enter a valid email address.";
            }
            // error=pwdr
            if (value == "pwdr"){
                str = "Passwords must match.";
            }
            // error=uid
            if (value == "uidtaken"){
                str = "Username or email already in use.";
            }
            // error=uidstmt
            if (value == "uidstmt"){
                str = "Error preparing username search sql statement.";
            }
            // error=createstmt
            if (value == "createstmt"){
                str = "Error preparing insert sql statement.";
            }
            // error=stmt
            if (value == "stmt"){
                str = "Error preparing username search sql statement.";
            }
            // error=none
            if (value == "none"){
                str = "";
            }
            // error=submit
            if (value == "submit"){
                str = "Error processing HTTP request.";
            }

            console.log(str);
            fields.innerHTML = str;
            fields.className = "row justify-content-center alert alert-danger";
        }
    </script>

	<a href="index.php">Home</a><br/>
    <div class="register">
        <div class="registerDiv">
            <form class="registerForm" action="../../backend/php/signup.a.php" method="post">
                <label>Register Below</label></br></br>
                <input type="text" name="email" placeholder="Email"></input></br>
                <input type="text" name="uid" placeholder="Username"></input></br>
                <input type="text" name="pwd" placeholder="Password"></input></br>
                <input type="text" name="pwdr" placeholder="Confirm Password"></input></br>
                <input type="text" name="fn" placeholder="First Name"></input></br>
                <input type="text" name="ln" placeholder="Last Name"></input></br>
                <input type="submit" name="submit" value="Register"></input></br>
            </form>
        </div>
        <span id="registerError"></span>
    </div>
</body>

</html>